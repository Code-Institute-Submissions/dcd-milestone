{% extends 'base.html' %} {%block title %}| Edit Recipe {% endblock %}{% block content %}

<!-- A user can edit their own recipe here -->

<!-- If a logged in user is trying to edit a different user's profile, they will be sent to home page -->

<div class="page_heading">Edit a Recipe</div>

<div class="row center">
	<!--Display an error message for existing slug or recipe name. FIX THIS AREA & USERNAME-->
	{% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %}
	<p class="red-text">{{ message }}</p>
	{% endfor %} {% endif %} {% endwith %}
</div>

<form class="col s12" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
    {% include "partials/_recipes_form.html" %}
</form> 

    <!-- Modal Trigger -->
    <button data-target="delete_modal" data-recipe-delete-url="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn_small red darken-1 modal-trigger" href="#delete_modal">Delete</button>

<div id="delete_modal" class="modal">
    <div class="modal-content">
        <h6>Are you sure you want to delete this recipe?</h6>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-red btn-flat">Cancel</a>
        <a id="delete-link" href="" class="modal-close waves-effect waves-green btn-flat modal-close">Delete</a>
    </div>
</div>
{% endblock %} 