{% extends 'base.html' %} {%block title %}| Edit Recipe{% endblock %}{% block content %}
<div class="page_heading">Edit a Recipe</div>

<form class="col s12" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
    {% include "partials/_recipes_form.html" %}
</form>

    <a href="{{url_for('view_recipe', slug=recipe.slug)}}" id="view-btn" class="waves-effect waves-light btn btn_small blue darken-1">View</a>

    <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}" id="edit-btn" class="waves-effect waves-light btn btn_small light-blue darken-1">Edit</a>
    <!-- Modal Trigger -->
    <button data-target="delete_modal" data-recipe-delete-url="{{url_for('delete_recipe', recipe_id=recipe._id)}}" a class="waves-effect waves-light btn btn_small red darken-1 modal-trigger" href="#delete_modal">Delete</a>
</button>

<div id="delete_modal" class="modal">
    <div class="modal-content">
        <h6>Are you sure you want to delete this recipe?</h6>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-red btn-flat">Cancel</a>
        <a id="delete-link" href="" class="modal-close waves-effect waves-green btn-flat modal-close">Delete</a>
    </div>
</div>
{% endblock %} {% block js %}
<script>
    $(document).ready(function() {
        $('.modal').modal({
            onOpenStart: function(modal, trigger) {
                $('#delete-link').attr("href", trigger.dataset.recipeDeleteUrl);
            }
        });
    });
</script>
{% endblock %}